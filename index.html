<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Biskra CS Student Helper - All Year</title>

    <!-- PWA Meta Tags -->
    <meta name="description" content="Semester average calculator for Computer Science students at Biskra University" />
    <meta name="theme-color" content="#3b82f6" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="CS Helper" />

    <!-- Icons -->
    <link rel="icon" href="icon.png" />
    <link rel="apple-touch-icon" href="icon.png" />

    <!-- Manifest -->
    <link rel="manifest" href="manifest.json" />

    <!-- Styles -->
    <link rel="stylesheet" href="style.css" />

    <!-- Vercel Web Analytics -->
    <script>
        window.va = window.va || function () { (window.vaq = window.vaq || []).push(arguments); };
    </script>
    <script defer src="/_vercel/insights/script.js"></script>
</head>

<body>
    <div class="wrap">
        <header>
            <div class="brand">
                <h1 id="brandTitle">Biskra CS Student Helper</h1>
            </div>

            <div style="display:flex; gap:10px; align-items:center; flex-wrap:wrap">
                <button id="mode" class="mode" type="button" aria-label="Toggle theme" title="Toggle theme">
                    <svg class="themeIcon" viewBox="0 0 24 24" aria-hidden="true">
                        <!-- Sun -->
                        <g class="sun" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" fill="none">
                            <circle class="sunCore" cx="12" cy="12" r="4.2"></circle>
                            <path d="M12 2.2v2.3"></path>
                            <path d="M12 19.5v2.3"></path>
                            <path d="M2.2 12h2.3"></path>
                            <path d="M19.5 12h2.3"></path>
                            <path d="M4.6 4.6l1.6 1.6"></path>
                            <path d="M17.8 17.8l1.6 1.6"></path>
                            <path d="M19.4 4.6l-1.6 1.6"></path>
                            <path d="M6.2 17.8l-1.6 1.6"></path>
                        </g>
                        <!-- Moon -->
                        <path class="moon" fill="currentColor"
                            d="M15.6 13.9c-3.1 0-5.6-2.5-5.6-5.6 0-1.3.4-2.5 1.2-3.5-3.3.4-5.9 3.2-5.9 6.7 0 3.8 3.1 6.9 6.9 6.9 3.5 0 6.3-2.6 6.7-5.9-1 .8-2.2 1.4-3.3 1.4z">
                        </path>
                    </svg>
                </button>
            </div>
        </header>

        <!-- HOME Main Menu -->
        <section class="page active" id="pagehome">
            <div class="homeBtns">
                <a class="homeBtn" href="#calc">
                    <div class="homeBtnLeft">
                        <div class="homeIcon" aria-hidden="true">
                            <svg viewBox="0 0 24 24">
                                <path
                                    d="M7 2h10a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3zm0 2a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H7z">
                                </path>
                                <path d="M8 6h8v3H8V6z"></path>
                                <path
                                    d="M8 11h2v2H8v-2zm3 0h2v2h-2v-2zm3 0h2v2h-2v-2zM8 14h2v2H8v-2zm3 0h2v2h-2v-2zm3 0h2v2h-2v-2z">
                                </path>
                            </svg>
                        </div>
                        <div>
                            <div class="t">Semester Calculator</div>
                            <div class="d">Open all semester calculators (S1 â†’ S6).</div>
                        </div>
                    </div>
                    <div class="go">Open</div>
                </a>

                <a class="homeBtn" href="#pomodoro">
                    <div class="homeBtnLeft">
                        <div class="homeIcon" aria-hidden="true">
                            <svg viewBox="0 0 24 24">
                                <path d="M9 2h6v2H9V2z"></path>
                                <path
                                    d="M12 6a9 9 0 1 0 9 9 9.01 9.01 0 0 0-9-9zm0 2a7 7 0 1 1-7 7 7.01 7.01 0 0 1 7-7z">
                                </path>
                                <path
                                    d="M12 10a1 1 0 0 1 1 1v3.2l2.1 2.1a1 1 0 0 1-1.4 1.4l-2.4-2.4A1 1 0 0 1 11 14v-3a1 1 0 0 1 1-1z">
                                </path>
                            </svg>
                        </div>
                        <div>
                            <div class="t">Pomodoro</div>
                            <div class="d">Auto focus/rest cycles with sound + long rest.</div>
                        </div>
                    </div>
                    <div class="go">Open</div>
                </a>

                <a class="homeBtn" href="#adkar">
                    <div class="homeBtnLeft">
                        <div class="homeIcon" aria-hidden="true">
                            <svg viewBox="0 0 24 24">
                                <path
                                    d="M14.6 2.2c-5 1.1-8.3 6-7.2 11 1.1 5 6 8.3 11 7.2 1.7-.4 3.3-1.3 4.5-2.6-1.8 2.8-5.1 4.6-8.8 4.6C8.5 22.4 4 18 4 12.5 4 7.2 8 2.9 13.2 2.2c.5-.1 1 0 1.4 0z">
                                </path>
                                <path d="M18.6 6.3l.9 2.1 2.3.2-1.8 1.5.6 2.2-2-1.2-2 1.2.6-2.2-1.8-1.5 2.3-.2.9-2.1z">
                                </path>
                            </svg>
                        </div>
                        <div>
                            <div class="t">Adkar</div>
                            <div class="d">Tap each dhikr to count down.</div>
                        </div>
                    </div>
                    <div class="go">Open</div>
                </a>

                <a class="homeBtn" href="#quiz">
                    <div class="homeBtnLeft">
                        <div class="homeIcon" aria-hidden="true">
                            <svg viewBox="0 0 24 24">
                                <path
                                    d="M7 2h10a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3zm0 2a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H7z">
                                </path>
                                <path d="M8 7h8v2H8V7z"></path>
                                <path d="M8 11h6v2H8v-2z"></path>
                                <path d="M8 15h5v2H8v-2z"></path>
                                <path d="M16.2 13.1l1.2 1.2 2.2-2.2 1.1 1.1-3.3 3.3-2.3-2.3 1.1-1.1z"></path>
                            </svg>
                        </div>
                        <div>
                            <div class="t">CS Quiz</div>
                            <div class="d">Fun computer science questions (3 choices).</div>
                        </div>
                    </div>
                    <div class="go">Play</div>
                </a>

                <!-- âœ… HABITS BUTTON -->
                <a class="homeBtn" href="#habits">
                    <div class="homeBtnLeft">
                        <div class="homeIcon" aria-hidden="true">
                            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
                                <path d="M4 19V5" stroke="currentColor" stroke-width="1.8" stroke-linecap="round">
                                </path>
                                <path d="M4 19h16" stroke="currentColor" stroke-width="1.8" stroke-linecap="round">
                                </path>
                                <path d="M8 17v-6M12 17v-9M16 17v-3" stroke="currentColor" stroke-width="1.8"
                                    stroke-linecap="round"></path>
                            </svg>



                        </div>
                        <div>
                            <div class="t">Habit Tracker</div>
                            <div class="d">Track daily habits + streaks.</div>
                        </div>
                    </div>
                    <div class="go">Open</div>
                </a>
            </div>
        </section>

        <!-- CALCULATOR HUB -->
        <section class="page" id="pagecalc">
            <div class="homeHeader">Choose your semester</div>
            <div class="homeBtns">
                <a class="homeBtn" href="#s1">
                    <div>
                        <div class="t">S1 Calculator</div>
                        <div class="d">First-year baseline.</div>
                    </div>
                    <div class="go">Open</div>
                </a>
                <a class="homeBtn" href="#s2">
                    <div>
                        <div class="t">S2 Calculator</div>
                        <div class="d">Foundations.</div>
                    </div>
                    <div class="go">Open</div>
                </a>
                <a class="homeBtn" href="#s3">
                    <div>
                        <div class="t">S3 Calculator</div>
                        <div class="d">Core CS modules.</div>
                    </div>
                    <div class="go">Open</div>
                </a>
                <a class="homeBtn" href="#s4">
                    <div>
                        <div class="t">S4 Calculator</div>
                        <div class="d">Momentum.</div>
                    </div>
                    <div class="go">Open</div>
                </a>
                <a class="homeBtn" href="#s5">
                    <div>
                        <div class="t">S5 Calculator</div>
                        <div class="d">Choices included.</div>
                    </div>
                    <div class="go">Open</div>
                </a>
                <a class="homeBtn" href="#s6">
                    <div>
                        <div class="t">S6 Calculator</div>
                        <div class="d">Final stretch.</div>
                    </div>
                    <div class="go">Open</div>
                </a>
                <a class="homeBtn" href="#home">
                    <div>
                        <div class="t">Back</div>
                        <div class="d">Return to main menu.</div>
                    </div>
                    <div class="go">Home</div>
                </a>
            </div>
        </section>

        <!-- POMODORO -->
        <section class="page" id="pagepomodoro">
            <!-- (unchanged) -->
            <div class="card">
                <div class="hd">
                    <div class="h">Pomodoro</div>
                    <div class="badge" id="pomoBadge">Ready</div>
                </div>
                <div class="bd" style="text-align:center">
                    <div class="pomoConfig">
                        <div class="row three">
                            <div>
                                <label>Focus</label>
                                <select id="pomoFocusSelect">
                                    <option value="5">5 min</option>
                                    <option value="10">10 min</option>
                                    <option value="25" selected>25 min</option>
                                </select>
                            </div>
                            <div>
                                <label>Short rest</label>
                                <input id="pomoShort" type="number" min="1" max="60" step="1" value="5" />
                            </div>
                            <div>
                                <label>Long rest</label>
                                <input id="pomoLong" type="number" min="1" max="90" step="1" value="15" />
                            </div>
                        </div>

                        <div class="row two" style="margin-top:10px">
                            <label class="toggleRow" for="pomoSound">
                                <input id="pomoSound" class="pomoChk" type="checkbox" checked />
                                <span class="chkBox" aria-hidden="true"></span>
                                <span class="chkText">Sound</span>
                            </label>

                            <label class="toggleRow" for="pomoAuto">
                                <input id="pomoAuto" class="pomoChk" type="checkbox" checked />
                                <span class="chkBox" aria-hidden="true"></span>
                                <span class="chkText">Auto next</span>
                            </label>
                        </div>
                    </div>

                    <div class="big" id="pomoDisplay">25:00</div>
                    <div class="kpi" style="justify-content:center; gap:18px">
                        <span>Phase: <strong id="pomoPhase">Focus</strong></span>
                        <span>Done: <strong id="pomoCount">0</strong>/5</span>
                    </div>

                    <div class="actions" style="justify-content:center">
                        <button id="btnPomoToggle">Start</button>
                        <button id="btnPomoSkip" class="secondary">Skip</button>
                        <button id="btnPomoReset" class="secondary">Reset</button>
                        <button id="btnPomoHome" class="secondary">Home</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- ADKAR -->
        <section class="page" id="pageadkar">
            <!-- (unchanged) -->
            <div class="card">
                <div class="hd">
                    <div class="h">Adkar</div>
                    <div class="badge">Tap to count</div>
                </div>
                <div class="bd">
                    <div class="stat dhikrItem" onclick="handleDhikr(this)">
                        <p dir="rtl" class="dhikrText">Ø³ÙØ¨Ù’Ø­ÙØ§Ù†Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù</p>
                        <div class="kpi"><span>Remaining</span><strong class="counter">33</strong></div>
                    </div>
                    <div class="stat dhikrItem" onclick="handleDhikr(this)">
                        <p dir="rtl" class="dhikrText">Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙÙ‘Ù‡Ù</p>
                        <div class="kpi"><span>Remaining</span><strong class="counter">33</strong></div>
                    </div>
                    <div class="stat dhikrItem" onclick="handleDhikr(this)">
                        <p dir="rtl" class="dhikrText">Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø£ÙÙƒÙ’Ø¨ÙØ±Ù</p>
                        <div class="kpi"><span>Remaining</span><strong class="counter">34</strong></div>
                    </div>
                    <div class="stat dhikrItem" onclick="handleDhikr(this)">
                        <p dir="rtl" class="dhikrText">Ù„ÙØ§ Ø¥ÙÙ„ÙÙ‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙØ­Ù’Ø¯ÙÙ‡Ù Ù„ÙØ§ Ø´ÙØ±ÙÙŠÙƒÙ Ù„ÙÙ‡ÙØŒ Ù„ÙÙ‡Ù
                            Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ ÙˆÙÙ„ÙÙ‡Ù Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù ÙˆÙÙ‡ÙÙˆÙ Ø¹ÙÙ„ÙÙ‰ ÙƒÙÙ„ÙÙ‘ Ø´ÙÙŠÙ’Ø¡Ù Ù‚ÙØ¯ÙÙŠØ±ÙŒ</p>
                        <div class="kpi"><span>Remaining</span><strong class="counter">10</strong></div>
                    </div>
                    <div class="stat dhikrItem" onclick="handleDhikr(this)">
                        <p dir="rtl" class="dhikrText">Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ ØµÙÙ„ÙÙ‘ Ø¹ÙÙ„ÙÙ‰ Ù…ÙØ­ÙÙ…ÙÙ‘Ø¯Ù</p>
                        <div class="kpi"><span>Remaining</span><strong class="counter">10</strong></div>
                    </div>

                    <div class="actions">
                        <button class="secondary" onclick="location.hash='#home'">Home</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- QUIZ -->
        <section class="page" id="pagequiz">
            <!-- (unchanged) -->
            <div class="card">
                <div class="hd">
                    <div class="h">CS Quiz</div>
                    <div class="badge" id="quizBadge">Warm up</div>
                </div>

                <div class="bd">
                    <div class="quizTop">
                        <div class="kpi">
                            <span>Question</span>
                            <strong id="quizProgress">1/10</strong>
                        </div>
                        <div class="kpi">
                            <span>Score</span>
                            <strong id="quizScore">0</strong>
                        </div>
                    </div>

                    <div class="quizQ">
                        <div class="sub" id="quizCategory">Category</div>
                        <div class="quizQuestion" id="quizQuestion">Question text...</div>
                    </div>

                    <div class="quizOptions" id="quizOptions"></div>

                    <div class="quizFeedback stat" id="quizFeedback" style="display:none"></div>

                    <div class="actions">
                        <button id="btnQuizNext" disabled>Next question</button>
                        <button id="btnQuizRestart" class="secondary">Restart</button>
                        <button id="btnQuizHome" class="secondary">Home</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- âœ… HABIT TRACKER PAGE (MOVED INSIDE .wrap) -->
        <section id="pagehabits" class="page">
            <div class="card">
                <div class="hd">
                    <div class="h">
                        <span>ğŸ“Š Habit Tracker</span>
                    </div>
                    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                        <button onclick="showAddHabitForm()" class="secondary">+ Add Habit</button>

                        <!-- âœ… FIXED: navigate with hash router -->
                        <a href="#home" class="homeBtn"
                            style="display: inline-flex; padding: 8px 12px; font-size: 13px; text-decoration: none;">
                            â† Home
                        </a>
                    </div>
                </div>

                <div class="bd">
                    <div id="addHabitForm" style="display: none; margin-bottom: 16px;">
                        <div class="module">
                            <div class="top">
                                <div class="name">New Habit</div>
                            </div>

                            <div class="row two" style="margin-bottom: 12px;">
                                <div>
                                    <label>Habit Name</label>
                                    <input type="text" id="habitName" placeholder="e.g., Morning Exercise"
                                        style="width: 100%; padding: 10px; border-radius: 14px; border: 1px solid var(--line); background: var(--input-bg); color: var(--text); outline: none;">
                                </div>
                                <div>
                                    <label>Daily Goal</label>
                                    <input type="number" id="habitGoal" placeholder="1" min="1" value="1">
                                </div>
                            </div>

                            <div style="margin-bottom: 12px;">
                                <label>Category (Optional)</label>
                                <input type="text" id="habitCategory" placeholder="e.g., Health, Study, Spiritual"
                                    style="width: 100%; padding: 10px; border-radius: 14px; border: 1px solid var(--line); background: var(--input-bg); color: var(--text); outline: none;">
                            </div>

                            <div class="actions">
                                <button onclick="addNewHabit()">Save Habit</button>
                                <button onclick="cancelAddHabit()" class="secondary">Cancel</button>
                            </div>
                        </div>
                    </div>

                    <div id="habitsContainer"></div>

                    <div id="emptyState" style="text-align: center; padding: 40px 20px; color: var(--muted);">
                        <div style="font-size: 48px; margin-bottom: 16px;">ğŸ“</div>
                        <div style="font-size: 18px; font-weight: 700; margin-bottom: 8px;">No habits yet</div>
                        <div style="font-size: 14px;">Click "Add Habit" to start tracking your daily habits</div>
                    </div>
                </div>
            </div>

            <div class="card" style="margin-top: 16px;">
                <div class="hd">
                    <div class="h">Statistics</div>
                </div>
                <div class="bd">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px;">
                        <div class="stat">
                            <div class="big" id="totalHabits">0</div>
                            <div class="sub">Total Habits</div>
                        </div>
                        <div class="stat">
                            <div class="big" id="todayCompleted">0</div>
                            <div class="sub">Completed Today</div>
                        </div>
                        <div class="stat">
                            <div class="big" id="currentStreak">0</div>
                            <div class="sub">Current Streak</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SEMESTER PAGES -->
        <section class="page" id="pages1"></section>
        <section class="page" id="pages2"></section>
        <section class="page" id="pages3"></section>
        <section class="page" id="pages4"></section>
        <section class="page" id="pages5"></section>
        <section class="page" id="pages6"></section>
    </div>

    <footer class="footer">
        <div class="footerInner">
            <div class="footerCard">
                <div style="display:flex; gap:5px; flex-wrap:wrap">
                    <div style="display:flex; align-items:center; gap:10px">
                        <div>Made by Abderrazak Achour</div>
                        <a class="iconLink" href="https://github.com/abderazak-py" target="_blank"
                            rel="noopener noreferrer" aria-label="Open GitHub profile">
                            <svg viewBox="0 0 24 24" aria-hidden="true">
                                <path
                                    d="M12 .5C5.73.5.75 5.62.75 12c0 5.1 3.29 9.42 7.86 10.95.58.11.79-.26.79-.57v-2.1c-3.2.72-3.87-1.59-3.87-1.59-.53-1.37-1.3-1.74-1.3-1.74-1.06-.74.08-.73.08-.73 1.17.08 1.79 1.23 1.79 1.23 1.04 1.82 2.73 1.29 3.4.99.11-.77.41-1.29.74-1.59-2.56-.3-5.26-1.31-5.26-5.83 0-1.29.45-2.35 1.2-3.18-.12-.3-.52-1.53.11-3.2 0 0 .98-.32 3.2 1.22a10.8 10.8 0 0 1 2.91-.4c.99 0 1.99.14 2.91.4 2.22-1.54 3.2-1.22 3.2-1.22.63 1.67.23 2.9.11 3.2.75.83 1.2 1.89 1.2 3.18 0 4.53-2.71 5.53-5.29 5.82.42.37.8 1.1.8 2.22v3.29c0 .31.21.68.8.57A11.27 11.27 0 0 0 23.25 12C23.25 5.62 18.27.5 12 .5z">
                                </path>
                            </svg>
                        </a>
                    </div>

                    <div style="display:flex; align-items:center; gap:10px">
                        <div>And Farhat</div>
                        <a class="iconLink" href="https://github.com/Farhat-141" target="_blank"
                            rel="noopener noreferrer" aria-label="Open GitHub profile">
                            <svg viewBox="0 0 24 24" aria-hidden="true">
                                <path
                                    d="M12 .5C5.73.5.75 5.62.75 12c0 5.1 3.29 9.42 7.86 10.95.58.11.79-.26.79-.57v-2.1c-3.2.72-3.87-1.59-3.87-1.59-.53-1.37-1.3-1.74-1.3-1.74-1.06-.74.08-.73.08-.73 1.17.08 1.79 1.23 1.79 1.23 1.04 1.82 2.73 1.29 3.4.99.11-.77.41-1.29.74-1.59-2.56-.3-5.26-1.31-5.26-5.83 0-1.29.45-2.35 1.2-3.18-.12-.3-.52-1.53.11-3.2 0 0 .98-.32 3.2 1.22a10.8 10.8 0 0 1 2.91-.4c.99 0 1.99.14 2.91.4 2.22-1.54 3.2-1.22 3.2-1.22.63 1.67.23 2.9.11 3.2.75.83 1.2 1.89 1.2 3.18 0 4.53-2.71 5.53-5.29 5.82.42.37.8 1.1.8 2.22v3.29c0 .31.21.68.8.57A11.27 11.27 0 0 0 23.25 12C23.25 5.62 18.27.5 12 .5z">
                                </path>
                            </svg>
                        </a>
                    </div>
                </div>

                <div style="opacity:.7">CS Helper | Offline-ready PWA</div>
            </div>
        </div>
    </footer>

    <script src="app.js" defer></script>
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js')
                    .then(reg => console.log('Service Worker registered:', reg))
                    .catch(err => console.error('Service Worker registration failed:', err));
            });
        }
    </script>
</body>

</html>